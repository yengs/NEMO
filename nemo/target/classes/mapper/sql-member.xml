<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0/EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="nemo.mapper.MemberMapper">
	<select id="selectMemberList" resultType="nemo.dto.MemberDto">
		select m_num, m_name, m_email
		     , date_format(m_date, '%Y.%m.%d %H:%i:%s') as m_date
		  from member
	</select>
	
	<insert id="join" parameterType="nemo.dto.MemberDto">
      insert into member(member_nickname, member_name, member_id, member_pw, member_date, member_user, member_phone, member_mailauth, member_mailkey, member_email, member_address, member_warning, member_clean)
         values(#{memberNickname}, #{memberName}, #{memberId}, #{memberPw}, now(), 1, #{memberPhone}, 0, #{memberMailkey}, #{memberEmail}, #{memberAddress}, 0, 50)
   </insert>
   
   <!-- jwt위한 로그인 쿼리 추가 10.28 오전 11:50 -->
   <select id="login" parameterType="nemo.dto.MemberDto" resultType="nemo.dto.MemberDto">
		select * from member
		 where member_id = #{memberId} and member_pw = #{memberPw}	
	</select>
	
	<select id="findByMemberId" parameterType="nemo.dto.MemberDto" resultType="nemo.dto.MemberDto">
		select * from member where member_id = #{memberId}
	</select>
   
	
</mapper>